branches:
  only:
  - master
sudo: required
before_install:
- chmod +x ./build-scripts/install-dependencies.sh
- chmod +x ./build-scripts/deploy-k8s.sh
- chmod +x ./build-scripts/deploy-terraform.sh
- chmod +x ./build-scripts/inject-secrets.sh
install:
- "./build-scripts/install-dependencies.sh"
- "./build-scripts/inject-secrets.sh"
script:
- "./build-scripts/deploy-terraform.sh"
- "./build-scripts/deploy-k8s.sh"
env:
  global:
  - secure: Lb9UN9r6ANcwSPvryY2cXsxO738VxgwNBGvNM9jcDO4EK8htcK2JquJ9d+IXZ1m8qRFOAQ1r6wrt4azyvCOYkzTfcQL5V7b44IsQmnyaq8a6zYtrZMDL2IpulHys/sBO2s5jpQ9S6GWZ5ayQlTL4iKHmFXfsnyadd7+OnksRIFZViz37bt4lcXOp7E8HamL8JyAX7HjHEuK7Z5QgAzYQDZLXNa7dTNvjFv5qw7r2hcalzufANvwDTaC/4K+Qaprn4zsgYQqbVPJLRC7N5HZEb3gMFlG08C5wTmCcK8xuW5/4EykToJwjxZKV2WnIC1MOceHCiKDf/9Z8On59wUyr9/Xwt2FGmMwNdLCA8Boyn5CoyVIaE4A8V+3OWiFH24KjZgkFM6+Y93RCx8MSkRS3mpdGtDvVBUvXhg0XnjwfeAgTOGaYDzSYAwnGewF+fB8a6Yv08ISDaeTy5KnbQRYNWpI0vr39mpa6FQQMkdmFOuVl58n6AkrHmzx0sPAKuUogXslGrDy4xe0k1mXNbTTUxJ/hxim6RsfV5CMxNnk4Dy39NuZrrViSjjkv+idj0W2GHmftMVh8dPjUWK4FnkS+qShX3oblwNv6Iz7UuJlGK3KIsfSDWqGUKalarZpmIn510KGwrcJVa9pw1mMD1VkKAFfI7e9IC5l0jLiOPoRu3Y4=
  - secure: ccerGS6wbnC6nm1L2ioi803XHGU3M9CrD8BXD1QmUSppJzxEVw/6YR4c23El5Mr/07ZepTbdkJOthjP8y2Se8DlO6tFngqfpInuFwrHd+OFNQeWa97rRW1x/9952T7kBy6wcsOkZHlN6WITAQnw5muHunhu4Pl1FBQpfTf/inlTssC0+UsZjPCfIlBsi50ABDjyp1STXXoSfI6NLuu4mkWGtUKUq/ANeQHJRb1Ltquei1cTzPYVSuqFJcWZA3lVZtrSYdtJpM+ga8aZqcaZOqWB7mUh0nDs47HIOuMrV3EMKhNRzzYlQiivfNMYEl4X30EcZjL+yjpIkbbsMMC57CSVciEs+kY15CPBJyd3m3ksfpK5lD5aPxKqF4N1o9LGpNsiYrrQGXCiVTtAB9TLcoZvGp1lj34gy9fHq1V6QKENHtz2t8SBhJS6n9FZgP7EjjWorQBQhLP+PyXRq00TkveAt0JzJgm5ZjUzECVXpMWh667X/2fu5gzTyHfdWTb6E5fiVekzSlIS7Z7h8NYrBS3CBpNfxUAVdQ/4iVnmix77YyLzwQmloLz61I/wZGEwrqQf+Pjb8yEdzLVYOlyq1CQX1vVsVD6kwTbtDlw7Y0d1/TnsqPk38iX63JQ13cMsKe3Uiwde2i2dlZFxRKoOehV+PYiJCr2T6ZJHOuLj4ETs=
  - secure: Wv1AE0hLUwKqNDw04k+GU0ePYWThySc0nucNWA67KUpgrcTCoTWxyojjMcr62nnohq50LQw47UMtlHiWVpE3EF7V5gDwuh/x1altGHInIDrsebhEAiYa7Vi98KQyRdHLlj+QdHIM7cGloqHX892SEebSc5xXmDrsHyGDWUmDUJz+pENyAuQJLoJwWUj7U+3DoKdcCEkIH/3D6dOUM5sZHSRwhAhWyLKtzQKOqW7rytLN8fRQ+VC7bNflxTuwDiGH66WLOkd1FhMbaP0Jfmvi+3ka4MvXccUlB/4cRvmaC2SyXA75fIcPTL+uGoW/rlsd90jDuHFPzkVWnQjm/YMURQKLxN/55n6Le/ybaIpxFe7O3aVeYgyJSQma1ZVoYJ85pgA8AiABw37b5CgErUA+AEMHjnmynrMnqgtGUizop0V7V0jMRZq2o4CBHQgmQKAy9QhOkJsh2Pgxk3QKbAnzJW/DEUS/GB1v62n6uuo4RqGySwuoYNdOu8xthsQ1o9R5/Yt2hT4WtcSIj5oy+0IOM7xs1l6OmTqzSmitgGEHjAx0TR+edLHjYrxqekyHRDmLgFTjHYXi0nm3FXCjejOX3CN8UF1Wwq6WiMdXS0Jdz7eHmG+XraL5T3qF09bzR437UDsSU235LKECaGVVxRrKNqG5LIiUwRvM1i4rXMaPrKQ=
