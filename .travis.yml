branches:
  only:
  - master
sudo: required
before_install:
- chmod +x ./build-scripts/install-dependencies.sh
- chmod +x ./build-scripts/deploy-terraform.sh
- chmod +x ./build-scripts/inject-secrets.sh
- chmod +x ./build-scripts/deploy-k8s.sh
install:
- "./build-scripts/install-dependencies.sh"
- "./build-scripts/inject-secrets.sh"
script:
- "./build-scripts/deploy-terraform.sh"
- "./build-scripts/deploy-k8s.sh"
env:
  global:
  - secure: UNxaDWwSn1y0kyZRFAUvqLFr3dRjpFnfwQxUk0Q4UTKDRjXl1WGQNOPtafrgs/sy/AFZqUfs08OzBnAXTHtaGOXDhUB2Kar0ETKuWfe8QIKgUFB0iBRCUxZ4Hq5RekC48LMt5wnrbEF9c99hcpqbM85lYVLuTxbKappo8k6snOd9+BzEC5X2BgH4/PV1dBdprK6FKUMlAkYvTANPIC76SrG3Pokqs9bMU7kojtoLBQWxnY6OuJsc7oznOqByRKl7t8PF76T86UJ0ZfrDCU6v6XpFjpIrgfb0aYOGEaPY+Yo9Q3jvt5UE95y06Pze1qPtBSAcBn0VvN0Nj+KPyd/4kitwOoKSrUnI1wa2CTmzlpHAhX9ekN48PH6lMTQB3WwRZrQjxjiF2yBGTqRe8PJB7KAVZGz7J/AfB2bZE7qya3vmsBaZmX+TiPXenTKfOVEQLRcqgUklnxWGic7DD1BnmfaFu1H6PKHInETQjqQ8YXYUZctn1zvdfg243p/oOOjOpr8Z7kSSt2/02MiCHEAyvbt8kV4zLwltwxv/EAeVyoIluwSQs7zxVoo8wow7vlECy7wMHqod0CqfCjqUnuWHTgrzH5JnaSovwdcL8rcfxOa5eZUt1bIsqtfZQcUvfR7aY5yCsqSuaGjjbXGPH4POwiqCf+SKRaPhXykLAoewRMw=
  - secure: diLdkvXFrBgN6icjn4ePbh/GAxUMJak6CYF83IyFxOdu/tghGXE/mlfOYTTHBoM0Uzo8ZCwjYoEBSB/RDCEVoKzqRhNlhkvPRA5AWfX1Ub2pG7PjBwqNh6g10w6DNtmlb4XoX3FYD8l5ss9HDnYFudLxzSSrsjt1UcLPL7ul8TcVtjOMOiDjws2DKDkcZG1Jm6XlSpBmTfJ/nfwcNUUGndWYXU3LpHNn0ZehXoUqG72wTv46+R1NJ5+NQ1PNx5K/gA1SdfGxEhxbp6DWD3SyDfnJKONbnviDJiElYapB0PjcK+3/l4vZn1BZN6et23VQjfN/M1ivBWk4kKOcUXVTiN319Lf1PaYJCkwuhTgOFfp7PJZCFmfodJvo4LKqy7D5qysjpZ5nTgQFHTMnib+sI3QXsVqGFHgVGD5xqDbujX+QN20I8yQpwvOxdaIXl2BUicH/EXH5efvcpjHt8sl3mewBhxH+0blTZK3IZkWYQyTKzE/RlCG3pcv0BRkr3sF3kjY96+xnUxh5CRm07aFdHNOwo04BfXsFkMQex7IIMLWXS3QSkv7zhvnjnIky90b2tworfAJTJ7EdVmpfLDcWYY2Bgr3iifWglX0d23DmYojmMus0qHZvXr82abftycDOuFUQRk6tt41fWp1O9qdZsXMwVaFwJPLwgZ3MQJ1Q/Fk=
  - secure: YanLl0+0A8j4+yxRcmxtQz5CulSaBEQkbTqESvGzQjT5Zx92eVcIcu1Vg9HRmEcMqXaK9d0CtWG8XqKvcGqWtXgK5uXpxWppBASPFpxuGk5m/edfx4edoP5ihaTkPY+q/gdsZ/dcxbXkuH/bFmCG58ub4ESG0eGQ9U/TCYUmIuxQwDwSEQF71deB3Od0ARXhMXmoBN07iDyh3OowABB/lr0Trxg2lxuMzYize698IMhTR1lhiCoXJqfet6qZk3XTdpMTZDKCN9flWd3ahTShbIGn5+kUaFMdqzkOFnb7T8BofdVeJumn2LFvEC7WF2xASTMGsUs4IysqCtqxsF2/68y345OpiUxM7EfMLDOWFMoVR8JVzmEZ81AfRz4buKn7tSsZZMex2qolysnSBf0/M9Evas8yP49oiiAmjP8tyrUYcoPDw6IwCDpLk+mzmgacLGUUB1hG/QLYH+mMDYyV9XE2SXaslG/DGwAJhOA7w8fSsFt4la3nk0auNuxH8UckzdzMNCzQmnZnr4rzJNDgl4Z5Iipv9qdRNW0+VCMrnA2fG/HtI2ar6ePABnT2b4txPV2xRHUPaImw98FsJNsRrlNIdRf3bADPBcQjQDaWHj+vvNzp8J9z2C7R2iSwSHDx2dfHEHvIWnduDonMXElOucJlBmcLBtlAehs2n5lUlWc=
