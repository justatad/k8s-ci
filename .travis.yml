branches:
  only:
  - master
sudo: required
before_install:
- chmod +x ./build-scripts/install-dependencies.sh
- chmod +x ./build-scripts/deploy-terraform.sh
- chmod +x ./build-scripts/inject-secrets.sh
- chmod +x ./build-scripts/deploy-k8s.sh
install:
- "./build-scripts/install-dependencies.sh"
- "./build-scripts/inject-secrets.sh"
script:
- "./build-scripts/deploy-terraform.sh"
env:
  global:
  - secure: cgyTRxpVlDqacRBKCog/C6Hubjs8YytMCbsmMA/CF2tinZ9pZqlpNgw3AJG5MPVbO9tt+41if157Zp+08+MybbPA4M7MSCCQ+yRgZicLtX/FXlTADb6wbr6t0Z0TQ4TKkcoK6htk9d8HDy7uB1s7bE7+l+JuKTMjOa98XyiQJsCrQkD8MlDWPk/CYzRrrfESg78lp671gxEiiaEoL1vVotGmP7DYMENBVr7av1SNXBWafnpR3VHUx2q3KAlUqmUKvS9EATjSTalQxOwVGwMyBGh0WlHDxCaBaqbFVNer55+yCMcqulozSI+3LxTMxpYIus8Uvx1MAEqazNvXiDB68ucBTLnBPCDeDjcNj0vCpuqQd/MflirZoSmBdFB1qpVWrvGHDTdJxuVvPjNYwkx7D5NmwGPmJVi65Iz+mbQao6Z6d9r3r13kU4acehDB4Yivsnj1MtTEwFIqtgWPy4fQT7Y7Nk5JJRYeqG6lsVtY7zu8jGSLG3c/nSqdog4g5uL28LXNhXVeNb0//rZ4OnVyLRSBKifQT0IfcovAt4k5BNVoi8+h2zFxU3LDVaZStldUpLNDwTPjaVfjGQF5bxDM4YlvM6tPoP0NIxjM2TJyOiOZbHdZIw+ZsFPFwost+xyVcpUSDy0m7XtPrObIAOXlpZk8RYuzWrWNPVjfiNdV5k4=
  - secure: dGV4XEGRnH0EY4nHuvyHREQCQ97YjvDAOaTGNuOjAwbNZtIFVNyLiAJGm2fil+HTA4altDXvxPmKUbxgMgp60jhlsrL28xqRMV6wzSUy0lzDii/MelX/HwYdzE0jXHM7EkykyRBpZoZUvHxmboQFIbZqDPdPfhigPYA7ToLE2+iAHAirWPrVq4IjKamYSGKuEiFMBgdb2+wrz3xSJTSniR64/3zHui7/9a6PpVBmvo+6Wna7CMn7grzueTcgOo1m8V8tWRcBVECXIKtL5RXBWaiekU7XMD9h0TboqFDSfhl1tU4pIjJcTXENdOVYEqxkuZakR9dgRXI/iwUREc9k9PJcWGA7+OwuznXoc3d7jCvOveFnQEaYeMcq5/zzZX2OM/rbSMx6vR81qjOh2tzz32Qw87c2SHzCzL9krpBoTi2CnNm4/w6CqsoULvR7JsNt47rcPo+EhJ3IEkKuAo4NkCjL3itUfjiUn2MOx7BvZea4tMDX97CMpiqAeEpzWugJtJifQ9StksCVWHSh8uKZv56qmBIk1PMcGaGGx/hQUZE1PQNBnhglTOXfvXr0Pr6PPY/6Mfnb6olern16Bb5NYrOrNjGphL8JMGTCihPM6ZII2GOL8ziyugr7qiEPZVfcsnIDEEr4Pg0rda+wu4aRA8ETdwzudpEprzIFkQt9Cro=
  - secure: BuK8LgFAVkaLq4z7/SO9f9D+IfVEyNA8hPOccoAAYvXxFhqRtuTleHjGD4ocoEb00Zs8msUqAHASQUOBUdXutDk7tPQ/zWdKBWJ+zC1KZ0XIY62OrWaXA3Tk5madszyNv7bJM2/VslBeSL02JRqEixsFDWpK7ma99MqfRTvoGlSivXLQMmaqHi4O93VRJKDeXoxc9pmhyEuz/fZZqKpBmvBjJag3yFLDQCY/+oI2t9lMyNNekRswPa8bJ1FTdizabij/32fboqlRwshQ8pqP5jfr0+sM+hzKEgt+ynMtuBatCpJIfNqhYpm/izv8lG3PgQgJCDgTbHwRIkn1a1XjMkOmFwXLTmBVkV5S2WQCBJ+eHJLuYec1pGUWIojckQPaIGkKRCEEVlkOWRL9KMcjefn+PHiAWWLnAwn7opWlCW9J/GfvOCzBen0OFdnYRnyaJe3jmsTlkbKD9gyqrL0q0N/eo9Obk92lVcsFKVLVbVTDU18WWTJcPMab1lkpzCEICYfdQDYyIKUTBOUE9wL8511rZgHVT58NIj2DIymfvblY915G3miIb3WLTJeTqTiERE2IuPGd8PHGGs76D0DcwlqNi0wYx4MdpBEJBFwHCTuSupkdphtDKJA3kkmaIi8FUqU6wOh5bTM/bfrkgCKa91pT68maVY9dWkinLBJL9Xo=
  - secure: Hqq31FoXpE4AVop2qPmC0aWDluujNIFwCdo7Jn3ApX+yjabwa9CwqkB2n7Qt9xOzMvc/4VRzJ/5WicekG+PB1CtFHqJ0taxHPNGev2Y6MtDqxtpNuKyfwKjTf/GDxzbRbJYUKEpLKCgv6Uq+hZnA4pGLlZyC49ZnUhhrrPkUEHh6lLFBrIMZobyivCqP2K9hgsqY/ZZxER/V0q89Z9MzLv04lfcZ3F0zSuk2nXXoD2d9AeMo2+cRbPAeQic/s8MFuoXE0FH/pHDQ7FdpnWYrBEtEaXJNFN6tV5sD6WOn7h6WbfPR/gOuSejY9Smy+spood43YMWJvRfhcCEgC4TflwvmPWHrDivHkdTi04ARKELIF7m4FbDVtWM+z2S2NwwyRZ8OTZFa1nA/pIe2jdugMOrSGYEVAiLO70pRmY819mrPMzAjuqpWwYmI4Ovbb/7Hj6F4XZPD7ewZGFRi5KVS6DezbVdEKZ6bFLGzAOFrQ6HWJjolVaJF3U7NQT8AZ8R1s4jru7HqLZ3n248UhT1TqlnQ+3qKWdibzqkEPvsgm84VCmk2degtgZMGMUOModFGGCPEeRJBFqZke7NMEy6DCZE30sEoJEsjUbVmP364uZ/vCbf0FJ5YPxdhTPvfk2xYO6JSsGB3VrgBB9EY2JITnLBB2Aobh6alWaoTSMwZ3dE=
  - secure: k50ZlcVENidjyvMp1ryhsmv6jdkN2HKSmSJJ9kT8MJr5cWPF7U1B317ko86B89E5WGAg0lafedgXvf5a52hLUiroP041Ytf0JEFpsh8ALrjRaDoEX0TeOLjPIS2q93wFYAJgC4VNesZa0qUzgtjkctIP/NQPCPOPEHgYIubhXMZnRl049+JOx6xOvnllf+MlN00qRiijvHZ+JP/suO8MklS/m75Pp1Kw4of/+krn6UqD8eCr3KCFIjNPCIv/h2/vfajJz3+Uyhl165vyJERKJLy9KA4ubR/aqWCplGUpRwe3txXWr518gvBhnqxXLk5RrZU5wgG1+Ylbtc1by6VYMT4+R4eJ46NV9b+Y80qsQdkTRbSFUcf/lFVC/6RAxe6xa5yLrbPJVTIPT7VE4z/FjktakFQxgnklTvJg+HnPvmZ3aLRD97cSfugMUq4UBJqUYzuNPUd3iuOwfKg9h3CYZ9uunyUoC9z65zs+y8hcvpKb9Gj2pqbLlrmqUTnP6hh2iXy2ybKvaF/rEQfhI9uZUtQ0uqVKEgTUL9T0mAzRR1coeVt/EjIXkX5YgwO7r5VSeqVwOhiVUd9QVrvvgnCRgCmre9HuW6COEgGPFlugqheCpfieMjnZpa7ptpTs7gtLioLgBoV9HEx1b1iJuPsZ0F/KCzoLgP11BmeHMgCczFQ=
  - secure: l5NkH9+hl+oDaahd8GlC+HZ1vRWWErZemZlaR1PuQfMuroNu9iQwxA/iyG1VA/k9bnj7dGXd1VFTfuLok8BXzjKMv1c3ZKV967PPAqa6ViwLze/5si4dbAUi1EJPicL8I2AeJo9JXPou6/irovcDLkIC+p/DOImaoht5APDKoLdV34WAO1aTmvh48GDV5D2qN2BVHcQ6vg4HYwWGm3Da3SGwqjYddyD3XXcL7Me8ohzpfsljJTbde+eJSCWJYJwcSfzoiNIDZJ0FWua/Imue917SPhbPen2kXdBL2KQMM+ZiRvPvubI86dFJ0RfLCUO0zyOeIrqcSWWOlwO6qVhxyU/4P50Jm1hQUFVslYx2tR9/OMwqSN/yVyiaumU/6N2hkzrKwEApuPqh1KWPSshCHXIzdSW+6OZTk7nL+OW4BAl6eDiWOMdfy+LQa7By50zSafXBK6EQZ+BnLoRN50Ue12rAZl8X23EuJD7nj6FQvR/6EJD6Ov1bNX+YU9gi/mpuGFOYW55uWMzB9fDtmTy0hDnvKiQLIch/hz+g2PFo7heJRP0qGVNYdO1gYFU7GZvxhn4pwoHwjqH5L77PTG0oL7AMxuRgX4o0jg6bue+erh8dSOPynMs91fBoM/FqfXUUxTOm910Hf6sWAJCvCYnleygpAYS0MXs2dkAclyhsFaE=
  - secure: QMDyCNOlZ6Ar8qLxUKF0mz8JFsSo0atKtD55KsXFlybmwNbiQTba/w8rKz9mjRZZUORALoGtMean+jwBzgpRB5iCOKmXFNHpOgvG77jgfVGcxl9Cg+b4Wu0/aLlyjc/wtzhrWNARDtUkAqBEOjnq1LS+nCH4P/jyr84Wm/IV04LInJkWCBa7mf+PlDW6/Je3vmMnphaM4scaUAj2cy427EpXJoNg/W1txuCKmN5swV7alR2/jGH9pH+sNaHAYXwA1Roshh7x3tWPVLrqSzufUE9NbJuDxJDDdKaq3oKLwlusWqZObpfsvcYe+9ccM4dhcI5Bm6Crk/jO6/kEahX0kLtKcJI8XEk/DgO8QKvsFLZPyCtfvx2ZeDKsGzjai8tteyYzT9lAoKzZmtAnGn/SySDaT0kY83JbW2qx77683N3nnZvCtvJGcFvyCOEFfnqTSdkeQLco7hnJTaWIkElH5bNqsyHQ4hL/iV+jkFI3Z0n+gT1A1ZurJQxBsh4A4jfX66VAR2yGM5KMOD4K/8mrIBVLlhvDRPlOliDloeaVuZDIai51sCO8s/nC0CwkukBCS/4qML6vtCLKVXCJyJhLpKvtMAn/1+o13j1mqB1TB3KKqiZKB5lO+8RCrZmEATC4d6pi131vxSLsbJBJROP2KqmBBaFh/sI0aPUOXm61D8I=
  - secure: DdWJEG1kcpQQs9SQNKHtVmu5pALtll+2mr5z053Ws83JhRGJBIiRgUEVPnttPkUPzsm0/mXWzxk1rd4MbEZODTY10JslosOWcPr0rxYnfs1PbQt9m81GtQRGJxRNdMUwfG//Cj6Jg9wnbowd9q6OoZxV87NYZpRG+cWR+/SrwoWnEqd+8ejoVyE/E0TVBF9JiXVpirJ22IsFDnp/6hrVfhe6J6Fycdpdl3eoYyk7RTZt7VTaytGoEBGV7bEsuGlqp9BWs2RLIKdg0x7z7IZIWQrL9+qAn+bly+cuoC+ShhUYy9USySmgT2M7ofg68HwPOFEBm7s1MgJJSmlWtvGylTBTmZj69VFH5rPxZQGy30PHsLxsW41llqGlpBuXWm5W43/KHcEmNn6MLbAaguhT4o/6HRQ1IFiK+SHtWSjAtzjYUGAmr4kj5pHYgkX3YKbFqwghmqpxFmIZNTpiTci4e9fxZ7rmI/AUdqjzzYL9Nxp8cmuFrqntFxzKKg2+Z0jSBjsNsm+PoY45OrEDbt0jQYpyuXIQSu67RZVIbir3yhrCNyMNdnKywHJuokU/F1FzXvaaKMBovPYJwVYOVgVY+kLHHWqyIvfWf6UvzlUVm1W/0tWHWoeTaNHJFhV4z6rtfOK/d4A7M0BPOBoW7h4AIdTtet6zO6VRDMxlFM3m43M=
  - secure: M907nRmtOKH+qTht4vsImebJ23whiuy/phfeaGPfsEc8SawyWWo09pxM8mWtuXSV+287SEy+gGQ3gx4/s9smLXQdxl5/PqQ440oo9fxdTFOqqBu5PnRm76iHtxOxz6d5YZyCGJbh5PvKWaIfaqjdIcXq/Xol1tG3WbzBcrDs72fBOOX+Hj8G3sssY3DStg1aoLX6bu5f/+86UfssdDas++J/YLnR0emGijed2rqCbbpFqwAQ2Mgjecgc6bdg2HINtP/Ao3ku3RCzhn/LKShN+ZDdXxWS2XCQmTyqF/fLjZd0MuPtbhzhT2KQHIULrOyX3G5/m+oP16AoqQw/ERpcs6DY7kfQCZyaM9JQxXdUUilwiDpw25kD/JgPZc1xpBQ/TZFRu0ciBdVBMcJskydU5tPc6mM3V2tFqqo9hAk1ZlkpdLdSHR99bcCNPPkJYQB5oL28VH7VX6Ol5AvfKwmyVs6lK0djXA47d0apD9H3Y/6tcmsEhs5XpT6TBzUuJGy7vEGdMh/cpuI40bmPxcvGQA2bnL/1EljXNOUmnLi6zDmEYhuTF9dutQemXPJpE1xyjpfk/md4717qd2QSHkBV22tXfgWpjPUaB6+x+6ox25goI59HidJeOd+U29vdrLNpzgoSoyDnHaMX3KxOwGskpcm90V94KgxuU6bPbHvIg7g=
  - secure: QgSR7UK1b5CMRprmxC/wzMpbr3QgZfY7HdI+yl2uusuYPIWSr5ytmgWfhaNnY62MyKDem0GvkMxKsQiJa3/B3xh8Uw3NiTlyVqgLoK6YFOSV1wjEtkSLYZ2wERthXEdeZTZtkx1W98PYFTtwLjIbCPqUv8V165ZcrE7BVX69r2NVOKQgjzoBGYWbwb8A/u5BXYuardE7/33rbJZx3lFO0oOwORuoQq768PKjJ7u3QB80e5oKSQ0ruA3REPgFuFIhxW6Efxsy1ivJQsF0kNsmWddh2Wx5scid8CUdtBlrrUiZcvF9uzZm9EsNWUiTLepGh4HSbnytAcgRnHGqkiAp1E4RkgPNE4xXLnQ2+kLPBjUTAV5TWo6rrg6Z+XRPJZdmSfXjazi9Ec2HX6UnDsCMfXpMUYnNyIOnTfUU9GWdoUGfUSmTKA2Z+6IHocKSup310phnxZlNNsUqehSQ/1XO3O+jK64rJVF3Y8B1G4XrWTdNJnRmaceL+ldY2W/s+rPymcr8bWw9Ko9DTKK4ub6RKIug8IEIecpr3meMxeDb+jxAHmBznqsN5mnCxNSPXUA/U0VdrtX0pcRIb0pWmbfANpBoX6DjwWF/spyVMdw6l/q4Qh+tzz0RA2o+UhPJ3BRe/tawZhGIYiT1/dmzKywhXiL9BuJNcHhBGzuoQWcHogM=
  - secure: GJCxJ+oM1gTy8lqIGLFJdme9ZMwnsT0zia45kQMMJOWx9JJSXcCzKADBkFAqr37t2oGa6rsq9D7m18R3F5BPO+ZGPK5FI2SYBb1Q93KJ7vySTrA1Qii/LbvxBAxyzYvQh03zHvPPaK6mz5gjVPv7Ci9yL2jZFBOyvARH2DTB8TF7Vac265L4sP6fvLfBP5xF9+3s8RxvaS2IKpc/WMyluKRQ9OvZr3La2tzsIFdwJDNnocC2RmaMJpFOQyjXieNQAcJG7vMV3nAQgEEMupyzAC/Kgvpd6P441M9SceSMNP5O4oeB8ZqoHVUb88tyuEE2F3cI8dnUzHoUKTZZ7nZRffYLEJ7CxCUBTUcSLSrRuSopB0qJuaM6QuGPXwx9oZXaWGtyTWDd02GLMALIOZ6v0tSS+joKcojzX6YGF0/JKx+M+DSV2zqDizTklfv2z8kUWw2PRMsXcT+hiYnOng9lI3knS35kVCAOrC1rU7bcuCugt4nQWONvtxfZrh/fJXcNBnn92V5Bb3AzNQWOTcSZEg7mpFVZ+x561iLXUqPWKIbRam5e1R7sIemAZMzLGfjufg3rPZq8PKOhkf+oSbJPTbTQkqE56Aj8rhr1SgDFuRMJRn0AdJh9CH53if9Ur/vSiRpqEa9dUA+TA+WpKVm/nDXT1qNczoME2fBYISpbB6c=
  - secure: U98sZYFU1RbtroDv5iGB0yfPc1s5DA596TlTYGaS7rqnG3G50jcbTP8+ENlqxfMYTRE8gaqaVPHlV8a6aCgNSygxe3BBVE8wywMucbcKjAvAMxy5tcgLZhqvbPZclFJBZisYz33lJNvFJdkz9EQDzVf+/PzRO8az8goGSVLPltZSCA63VrIH9c8LzL2+1YJTzZ2Pxniw+pwzmSMWABbUiAz3w8g2pZ4I4E8DqzwITbNQfUgTn1eEolGnSsqdQURtGAcWAsYiesiqo8Vw6jf1p9C0ZItdvGRTUx4/GLD3Cf+QvaGPfi6hFWCTN2F6QseGyS6qJji3w9nirZ7pJ7rPWMvDs1F+ZZpehzYJYLxk8cT82Yzx9HSlMh0bT/o7vHSC5qQN3rz0MS0ly7ujhYWqGIMnbpsToNIC1aaE88onzrRTM93KRtBThSGBnLvGCbl97B7YepTKR5uyYSo/vRf1HeOB1t4r23nMWApw70hh8fw67EwfAH6/fzAhU9v/F28ZqZutSu9V3TMA5+kbOUAd06sB7r6yV/GfQevttWb7JQefuKQTK81yDa+qcIIQH5PRHUIqqnb/J8sUAztKFnN9ow3b7kBNH4i7F0cXCpwesUPP+Gy9AHSKyNf3VH4JbOMSHZKzmu6FRePiGh9oGj63ys4aCHdMPK+oE4TB9ECyg/4=
