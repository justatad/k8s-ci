branches:
  only:
  - master
sudo: required
before_install:
- chmod +x ./build-scripts/install-dependencies.sh
- chmod +x ./build-scripts/deploy-k8s.sh
- chmod +x ./build-scripts/deploy-terraform.sh
- chmod +x ./build-scripts/inject-secrets.sh
install:
- "./build-scripts/install-dependencies.sh"
- "./build-scripts/inject-secrets.sh"
script:
- "./build-scripts/deploy-terraform.sh"
- "./build-scripts/deploy-k8s.sh"
env:
  global:
  - secure: Lb9UN9r6ANcwSPvryY2cXsxO738VxgwNBGvNM9jcDO4EK8htcK2JquJ9d+IXZ1m8qRFOAQ1r6wrt4azyvCOYkzTfcQL5V7b44IsQmnyaq8a6zYtrZMDL2IpulHys/sBO2s5jpQ9S6GWZ5ayQlTL4iKHmFXfsnyadd7+OnksRIFZViz37bt4lcXOp7E8HamL8JyAX7HjHEuK7Z5QgAzYQDZLXNa7dTNvjFv5qw7r2hcalzufANvwDTaC/4K+Qaprn4zsgYQqbVPJLRC7N5HZEb3gMFlG08C5wTmCcK8xuW5/4EykToJwjxZKV2WnIC1MOceHCiKDf/9Z8On59wUyr9/Xwt2FGmMwNdLCA8Boyn5CoyVIaE4A8V+3OWiFH24KjZgkFM6+Y93RCx8MSkRS3mpdGtDvVBUvXhg0XnjwfeAgTOGaYDzSYAwnGewF+fB8a6Yv08ISDaeTy5KnbQRYNWpI0vr39mpa6FQQMkdmFOuVl58n6AkrHmzx0sPAKuUogXslGrDy4xe0k1mXNbTTUxJ/hxim6RsfV5CMxNnk4Dy39NuZrrViSjjkv+idj0W2GHmftMVh8dPjUWK4FnkS+qShX3oblwNv6Iz7UuJlGK3KIsfSDWqGUKalarZpmIn510KGwrcJVa9pw1mMD1VkKAFfI7e9IC5l0jLiOPoRu3Y4=
  - secure: ccerGS6wbnC6nm1L2ioi803XHGU3M9CrD8BXD1QmUSppJzxEVw/6YR4c23El5Mr/07ZepTbdkJOthjP8y2Se8DlO6tFngqfpInuFwrHd+OFNQeWa97rRW1x/9952T7kBy6wcsOkZHlN6WITAQnw5muHunhu4Pl1FBQpfTf/inlTssC0+UsZjPCfIlBsi50ABDjyp1STXXoSfI6NLuu4mkWGtUKUq/ANeQHJRb1Ltquei1cTzPYVSuqFJcWZA3lVZtrSYdtJpM+ga8aZqcaZOqWB7mUh0nDs47HIOuMrV3EMKhNRzzYlQiivfNMYEl4X30EcZjL+yjpIkbbsMMC57CSVciEs+kY15CPBJyd3m3ksfpK5lD5aPxKqF4N1o9LGpNsiYrrQGXCiVTtAB9TLcoZvGp1lj34gy9fHq1V6QKENHtz2t8SBhJS6n9FZgP7EjjWorQBQhLP+PyXRq00TkveAt0JzJgm5ZjUzECVXpMWh667X/2fu5gzTyHfdWTb6E5fiVekzSlIS7Z7h8NYrBS3CBpNfxUAVdQ/4iVnmix77YyLzwQmloLz61I/wZGEwrqQf+Pjb8yEdzLVYOlyq1CQX1vVsVD6kwTbtDlw7Y0d1/TnsqPk38iX63JQ13cMsKe3Uiwde2i2dlZFxRKoOehV+PYiJCr2T6ZJHOuLj4ETs=
  - secure: Wv1AE0hLUwKqNDw04k+GU0ePYWThySc0nucNWA67KUpgrcTCoTWxyojjMcr62nnohq50LQw47UMtlHiWVpE3EF7V5gDwuh/x1altGHInIDrsebhEAiYa7Vi98KQyRdHLlj+QdHIM7cGloqHX892SEebSc5xXmDrsHyGDWUmDUJz+pENyAuQJLoJwWUj7U+3DoKdcCEkIH/3D6dOUM5sZHSRwhAhWyLKtzQKOqW7rytLN8fRQ+VC7bNflxTuwDiGH66WLOkd1FhMbaP0Jfmvi+3ka4MvXccUlB/4cRvmaC2SyXA75fIcPTL+uGoW/rlsd90jDuHFPzkVWnQjm/YMURQKLxN/55n6Le/ybaIpxFe7O3aVeYgyJSQma1ZVoYJ85pgA8AiABw37b5CgErUA+AEMHjnmynrMnqgtGUizop0V7V0jMRZq2o4CBHQgmQKAy9QhOkJsh2Pgxk3QKbAnzJW/DEUS/GB1v62n6uuo4RqGySwuoYNdOu8xthsQ1o9R5/Yt2hT4WtcSIj5oy+0IOM7xs1l6OmTqzSmitgGEHjAx0TR+edLHjYrxqekyHRDmLgFTjHYXi0nm3FXCjejOX3CN8UF1Wwq6WiMdXS0Jdz7eHmG+XraL5T3qF09bzR437UDsSU235LKECaGVVxRrKNqG5LIiUwRvM1i4rXMaPrKQ=
  - secure: C/p7bHfWo8CkIP+y7UUTleWLr5E/80yuRR+3B75tSZU87Q7vXMyf1us31/lwmZc8IwBMhE5KbXlG96HZGFN63JU0ocV3DAmoKpO3R4u9nM+dOJupfZ864iRDjInOk2FfxreLNRM0OrDybCtHsSVP9Z0lx2GAqjouRADQq6bOkNx+rUlEymDZRuj4hWNPxVWSSVdYMTUo6dm6Mh74fdgvHtBVvoolEPjftEUj8tdjhA8CWEne2QJOmZzmDMPB1mrDi5lEEVwb4jsh4khrUB0AonSgz4jyQvtp3aH6pgu43zdOe5LzAZKSjLMMJsVGARGZDL3+fpZnedlT68te3wMBiis23aYbD/R3rffzZRDCk6jO2XHGMOe70Bo6918kVgl5kDvjcaxE1FpO79N/w4IXX0KeWXnUN64kKefnnSSrmdpveY584o2kgcivD7rRcX1rVcANovh4ta0Uut3JyVtR4l2Ha82cMM5cYT8N5M3YS2FRVlWz/57oHg2zwUoE8bo/tpsOXgaxT8ttE6Pom7LBuRZnbYvAC4nrk6UzqFOl/WKsyIwRYehmQZJJYJYA5HaxkTI58+3bFpsCLqxaVTrd+mcXGEZb5U5IONBIJVEFkyhfgIUEGN8gQMkblRS8wMEnwZ33hTD1oKswHpACX6F3jrvf2qUqRNohmdzIr8rXIAo=
  - secure: ZYa2/0nC/+K8TVh6ThHscvE7QhNhj1G0XwwUDVeF4YaFYD+wB2/8WzgJc/PsLmAzf7JCkV4mspmEbBbNS5w7P5fGW6DN4wer4Ly4IN8nvZcQY74GdkvfvXjPtt2GbKgQ//vLCeTc0HdSlqZhM5APucdyY+oykZKy8vDInHxyX/ePrFoikZErsFKMfLE3lvF3SIaaEP9mWWWE4cGORkNarYu+0OJBSYMKY1EFrvS2JMOipALP3Jn7amppHDLfx2QrvpnsREhvLsq9KjU+jW4FtQTpIp5P0XfcYjnVb2K6Xeb1loAtygz5lVDP3uNoAzKnhV0/rMFKLDITv9c2pgX4RHw4dBq47GlstNt59Aiy5sKnWnbp+CAoweEFJ1seHvi99QNH2SMv+tv9gUOWqsBWq/UdwqS6fJw5dCub30YjCdkUDNzKfwC2iaL2EzOUUR83tStNFEoEwmACe/fPwm0mZpTrbzSnd7fkyreTg097U88cPWu55WqYU0vObHrSzCw7MGpRx+P4O+jzM1Y/a3viLziWKS8goEkMwlYvzz63Ra+s6+3twSIhXkA0XYnm3+xwCvsBT91nQotDVl9EFPEN+V8FqBXzfqBcku5KixQjOn6e6WrVE3LDBFFtRZ492t/87sai2a4aMXtXkDKe1TuchbQVA1JJBnecA7jd3Me7jkI=
  - secure: NPRc05+0Hqik07JT18lRsqWe3OF7SBqmmXc4fWqygvq6mKkpXjOuW+dMag2IH9BYRMUYTthQk34lsKo3/sRCO/stSEjLDb079pWRXmrXLWcmuC9l58ShaBctCMXahbAz99yV6xHQj8CttV+sgGtGu3iledpiocztlkKad1q+UY+Y5k+Eb+60Fmg0x1deMqf/MfWxfN6Nu2pZZiTixT2aInRzU9RPAMR1o6bek+sHGsg4+t+HBcwygGpL0AmIpqp4bdyYt7rVTv/pybP6gGq7Arayf7hZjtUoShv0pP6ZWs9NfkHaQx4CqLFmGBL8y3yIBDTHp+R1czcZDm0esa5njkwqGUPu5PRqXG6Yzc2A5faXs3jIYeE0G8MarSjdgZFuQA74/zx/RPwyC7avZ5gfPj6BgnAkadxJQVeilRcXVKUA1hfvGkLvGGJTwLlKszkx9U3eq6EvnxKd+B20KBKazbqh3pHtWb6hEie7S/JDL/X6kj2wmItToA9uJpfg1bAfTPZsr1QHc5VdoabVZoEphNAWbaEbj3iL6m/lloUnnYN0OHhakAlw44olt9N0C+jR36xnRIKehCWJnu5QzvBG73RbPtL5JUk5nkUa2gqwYshC9qVLabGo201WwWobihCQbHr96LwMbPT3rzajfcx7eD5azB347glNaixnYlBiKVM=
  - secure: BI1Q1hcWlFVbHtX4EL4ljYwx/4wyhKtB3T0k1coCzMlafHu2yoQcLqHMp5lWSbQ1izuI/qAeHjBYoluiPsr9ihQsDWXBzzgl7gkUulYS9WfIIgsSs/TnenvepALRect7VCoce1ovvvubbw7Q6EvpWBNZHcZN1JHmNwQY2rYDpTE78S2S/K7eGTrQCXXYQgEE/rJ43AQxk2e2XGIuefVfhER1g2rgoXEOtsHZKgsCYRc1IXBwtkghZP8Z9BUNp3gbUgQrU5Z+49b6vpEOvetMFTrSw3H88eEbqjnUDgLOPSZhoUPH6NdHzOwm5cof6kh/qTQVl9Lcw6HO0fcYyLoA7BzTVZwFkhU6jDKbr94MAdVtTKQbLmfT0wGVe/AsBbH3sg8H2EKJw4+zB1LiRl0lPXUm3y5aLqVAgyIKyrbzKTXgiTIbVfXBV6u0mlbMlooY2ErSB7L6ASzYzRra5INIbFLDNHmVpex4xBCcFc2aVWCp7jCblxEZmIFGdQlZhX01nGVirptwSTLXy8k3znWyssUQ3MTw5LWj1mFiSbWU62ywWIIpqH50ELgOfOh903kixi3bYPSCAAMeWKDTkwO+p0yF5pMxXCf0CQKCT5gkT6WlTCQRL1dHP2BcenXgBTXLZJqKlMipJBCZDS6SIO976KvD+3p2guYffWdsaOApFmI=
  - secure: Mu3+aWZjvHLKFJq7R2D9GyrtPVc2eF3TSvCpfgRnPvVAJUqcOwKHup/mU6Od854yxyXNjE3C3g72GwT5cs4THcrAsCThNLLoMGuIxyF9F1Zd7kAb7L15j44lYmbJ2khKkueWZ2N2K41X7fT0r6893OJP59O/p5gWihrfg+JxVHKDDqJ1cIh/ZAAQiVc07lYZw79sizNci+XPv9DwSIynt0TW51mZ3UBitabqTtSTlFT6zj4S0tWhiA3yz26EhTmNX3ZKuUf3uGquOkOaV8S7M6efthvzWgfRICaeg3UaoOTxrZxbRCNOlmmhMO3BVfxBqbm+xPJQqIcWuKTBz/W22ASMUvZIgng6Bbc2L+1+7kDbDSfcUaBtZEArfovUG2kO7cwiQEXdS2iw9ku4Mkgy8HVTUcFtqzuSDNbqjx14a2iMRMFcVRDWmwDOZwOxYHF+wkUSqK7E65+c0HQwiKfzK86wHmVaACAk/sQBJ0Cm0sKYrin9C5gmREva2VT+krywi6Mx/bv1rSjUDA56ChK4shtz2jigRgc/WQaWN1nY8bWmS1oVM6G5zuQljBlWIpBwNgqm+X+ccWX72saV9WPuKBFebFQoLWznNV7m1TW1UIEluStYqAhjG4FZuTapdKKv9uZRJ+IR1TTAfcHdQJNnaOQYQSLMNidwIaNsQZZ8p8A=
